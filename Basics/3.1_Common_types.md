### **Field Data Types trong Elasticsearch**
Mỗi trường (field) trong Elasticsearch có một **field data type** (hoặc **field type**) để xác định kiểu dữ liệu mà trường đó lưu trữ và cách nó sẽ được sử dụng trong các truy vấn. Các loại dữ liệu này giúp Elasticsearch biết cách lập chỉ mục, lưu trữ và tìm kiếm dữ liệu một cách hiệu quả.

---

### **Cách phân loại Field Data Types**
Các field types được chia thành các **nhóm (families)** dựa trên cách thức xử lý dữ liệu. Một số nhóm có nhiều loại field type, còn một số khác chỉ có một.

#### **1. Nhóm "Keyword" và "Text"**
- **Keyword**: Lưu trữ chuỗi văn bản không phân tích (not analyzed). Thường dùng cho các giá trị chính xác như mã, ID, tên, hoặc bất kỳ dữ liệu nào cần lọc, sắp xếp.
- **Text**: Lưu trữ chuỗi văn bản có phân tích (analyzed). Thường dùng cho tìm kiếm toàn văn (full-text search).

#### **2. Nhóm khác**
- **Boolean**: Lưu trữ giá trị `true` hoặc `false`.
- **Numbers**: Lưu trữ các giá trị số như `integer`, `long`, `float`, `double`.
- **Dates**: Lưu trữ ngày tháng, hỗ trợ nhiều định dạng.
- **Binary**: Lưu trữ dữ liệu nhị phân dưới dạng Base64.
- **Alias**: Tạo alias (bí danh) cho một trường khác.

---

### **Ví dụ minh họa cho từng loại**
Dưới đây là một số ví dụ minh họa cách sử dụng các field data types trong mappings và documents.

#### **1. Keyword và Text**
**Mapping:**
```json
PUT /example_index
{
  "mappings": {
    "properties": {
      "name": { "type": "text" },
      "status": { "type": "keyword" }
    }
  }
}
```

**Document:**
```json
PUT /example_index/_doc/1
{
  "name": "Elasticsearch is a great tool for search",
  "status": "active"
}
```

**Giải thích:**
- Trường `"name"` (kiểu `text`) sẽ được phân tích (analyzed) để tìm kiếm toàn văn, ví dụ: tìm kiếm từ "great".
- Trường `"status"` (kiểu `keyword`) sẽ lưu trữ giá trị chính xác ("active") để sử dụng cho lọc hoặc sắp xếp.

---

#### **2. Boolean**
**Mapping:**
```json
PUT /example_index
{
  "mappings": {
    "properties": {
      "is_active": { "type": "boolean" }
    }
  }
}
```

**Document:**
```json
PUT /example_index/_doc/2
{
  "is_active": true
}
```

**Giải thích:**
- Trường `"is_active"` chỉ nhận giá trị `true` hoặc `false`.

---

#### **3. Numbers**
**Mapping:**
```json
PUT /example_index
{
  "mappings": {
    "properties": {
      "age": { "type": "integer" },
      "price": { "type": "float" }
    }
  }
}
```

**Document:**
```json
PUT /example_index/_doc/3
{
  "age": 30,
  "price": 19.99
}
```

**Giải thích:**
- Trường `"age"` lưu trữ số nguyên.
- Trường `"price"` lưu trữ số thực.

---

#### **4. Dates**
**Mapping:**
```json
PUT /example_index
{
  "mappings": {
    "properties": {
      "created_at": { "type": "date" }
    }
  }
}
```

**Document:**
```json
PUT /example_index/_doc/4
{
  "created_at": "2025-08-04"
}
```

**Giải thích:**
- Trường `"created_at"` lưu trữ giá trị ngày tháng, có thể tìm kiếm dựa trên khoảng thời gian (`range`).

---

#### **5. Binary**
**Mapping:**
```json
PUT /example_index
{
  "mappings": {
    "properties": {
      "file_data": { "type": "binary" }
    }
  }
}
```

**Document:**
```json
PUT /example_index/_doc/5
{
  "file_data": "U3RyaW5nIGVuY29kZWQgaW4gQmFzZTY0"
}
```

**Giải thích:**
- Trường `"file_data"` lưu trữ dữ liệu nhị phân được mã hóa Base64.

---

#### **6. Alias**
**Mapping:**
```json
PUT /example_index
{
  "mappings": {
    "properties": {
      "original_field": { "type": "text" },
      "alias_field": { "type": "alias", "path": "original_field" }
    }
  }
}
```

**Giải thích:**
- Trường `"alias_field"` là một alias (bí danh) trỏ đến `"original_field"`. Khi truy vấn `"alias_field"`, Elasticsearch sẽ thực hiện truy vấn trên `"original_field"`.

---

### **Điểm nhấn: Keyword và Text**
- **`Keyword`**:
  - Không phân tích (not analyzed), lưu trữ nguyên bản.
  - Sử dụng cho **lọc (filters)** hoặc **sắp xếp (sorting)**.
- **`Text`**:
  - Phân tích (analyzed), chia nhỏ văn bản thành các từ (tokens).
  - Sử dụng cho **tìm kiếm toàn văn (full-text search)**.

---

### **Link tài liệu chính thức**
Bạn có thể tham khảo thêm tài liệu chính thức về **Field Data Types** của Elasticsearch tại đây:
[Elasticsearch Field Data Types Documentation](https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-types.html)

Nếu cần thêm giải thích hoặc ví dụ cụ thể, hãy cho tôi biết nhé!